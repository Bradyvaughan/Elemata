<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel='stylesheet' href='master.css' type='text/css'>
    <script src="./bundle.js"></script>
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono" rel="stylesheet">
    <script src="https://use.fontawesome.com/3d9a713f41.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  </head>
  <body onload="init();" id="root">
    <div class="header">

      <div Logo>
        <h1 class='logo'>Elemata</h1>
        <div>
          <button id='ruc'>About</button>
          <button id="instructions">Instructions</button>
        </div>
      </div>

      <div>
        <div class="control">
          <button id="start"><i class="fa fa-play" aria-hidden="true"></i></button>
          <button id="stop" class='hidden'><i class="fa fa-pause" aria-hidden="true"></i></button>
          <button id="step"><i class="fa fa-step-forward" aria-hidden="true"></i></button>
          <button id="reset"><i class="fa fa-refresh" aria-hidden="true"></i></button>
          <button id='all-black'>All On</button>
          <button id='random'>Random Row</button>
        </div>
        <div class='slider'>
          Speed:
          <input id='slider' min='1' max='50' step='1' value='1' type="range">
          <p id="counter">Current Generation: 0</p>
        </div>

      </div>
      </div>
    </div>

    <div class="body">
      <h1>The Automaton!</h1>
      <ul class="grid"></ul>
    </div>

    <div class='right'>
      <button id="rainbow">Rainbow Mode</button>

    </div>

    <section class='sidebar'>

      <div class="display">
        <section>
          <button id='custom' class='but-wid'>Custom Rule</button>
          <section class="drop-down">
            <button class='but-wid'>Select Rule</button>
            <ul class="menu">
              <li id="Rule30">Rule 30</li>
              <li id="Rule90">Rule 90</li>
              <li id="Rule110">Rule 110</li>
              <li id="Rule184">Rule 184</li>
            </ul>
          </section>
        </section>

      <ul>
        <li>Current Rule:</li>
        <li>
          <p class="cell"></p>
          <p class="cell"></p>
          <p class="cell patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id="000"></p>
        </li>

        <li>
          <p class="cell black"></p>
          <p class="cell"></p>
          <p class="cell patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id="100"></p>
        </li>

        <li>
          <p class="cell"></p>
          <p class="cell black"></p>
          <p class="cell patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id="010"></p>
        </li>

        <li>
          <p class="cell"></p>
          <p class="cell"></p>
          <p class="cell black patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id="001"></p>
        </li>

        <li>
          <p class="cell black"></p>
          <p class="cell black"></p>
          <p class="cell patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id='110'></p>
        </li>

        <li>
          <p class="cell black"></p>
          <p class="cell"></p>
          <p class="cell black patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id='101'></p>
        </li>

        <li>
          <p class="cell"></p>
          <p class="cell black"></p>
          <p class="cell black patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id='011'></p>
        </li>

        <li>
          <p class="cell black"></p>
          <p class="cell black"></p>
          <p class="cell black patch"></p>
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
          <p class="cell patch" id='111'></p>
        </li>
      </ul>
    </section>

    <div id="ruc" class="hidden">
      <div>
        <p>
          Click on the squares in the top row to set the initial state of the
          automaton.  By default, the system is set to use rule 90, but you can
          change its behavior by selecting other rules from the 'select rule'
          drop-down, or creating your own in a custom rule menu.  Once a rule
          and initial state are selected, press play to watch the automaton run.
          You can adjust the speed with the speed slider and make things colorful
          with rainbow mode.  Go nuts!
        </p>
      </div>
    </div>


    <div id="structions" class="hidden">
      <div>
        <p>
          Welcome to Elemata, the simple cellular automaton visualizer.
          This project explores elementary cellular automata.  In an elementary
          cellular automaton, there is a line of cells, each of which may be on
          or off, here represented by black or white.  Each generation of the automaton is calculated
          deterministically from the arrangement of the previous generation.
          That is, there is a transition function for each cell which maps the
          old state of the cell and each of its neighbors to a new state.
          Because there are 8 possible arrangements of three cells,
          (000, 100, 010, ..etc) and each of them may map to one of two states,
          there are 2^8 or 256 possible elementary transition rules for you to
          explore!
        </p>
        <p>
          You can use the step button to advance the the system by one generation
          at a time.  Use this function with the display on the right until you
          feel like you know what's going on.  Then, try
          designing your own rules.  What happens when you set the intial state
          to random with the 'random row' button?  What about setting them 'all
          on'?  The possibilites are virtually endless!
        </p>
        <section>
          <button id="close">Okay, Thanks!</button>
        </section>
      </div>
    </div>

    <div id="cycle-modal" class="hidden">
      <div>
        <h1>You've Seen It All</h1>
        <p>The automaton has hit a cycle.
          If allowed to continue, it will repeat the same pattern forever.
          The system went through <span id='cycle-time'></span> generations before
          entering the cycle, and the cycle has a period of
          <span id='period'></span>.
          </p>
        <button id="cycle-close">Okay</button>
        <button id='cycle-info'>More Info</button>
      </div>
    </div>

    <div id='cycle-info-modal' class="hidden">
      <div>
        <h1>Cycles</h1>
        <p>
          Cellular automata are deterministic, which means that they have no
          random components: the same automaton will behave the same way no
          matter how many times it is run.  They are also memoryless, meaning
          that the behavior depends only on the current state, and not at all on
          how it got to that state.
        </p>
        <p>
          Together, these two properties mean that the future behavior of the
          automaton is completely determined by the current state.  Thus, if
          the current state of the automaton is the same as a state that it has
          held previously, the automaton will repeat the same
          actions, which will lead it back to that state again, to
          repeat those actions forever.
        </p>
        <p>
          The entire repeating behavior is highlighted in light gray, while the
          two matching lines are highlighted in slightly darker gray.  Every single
          other line is unique.
        </p>
        <button id='info-close'>Cool</button>
      </div>
    </div>

    <div id='custom-rule' class='hidden'>
      <div>

        <p>
          Select which configurations you would like to map to 'on' states by
          toggling the lower squares
        </p>

        <section class='custom-body'>

          <li>
            <section class="cell-row">
              <p class="cell"></p>
              <p class="cell"></p>
              <p class="cell patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-000"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell black"></p>
              <p class="cell"></p>
              <p class="cell patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-100"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell"></p>
              <p class="cell black"></p>
              <p class="cell patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-010"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell"></p>
              <p class="cell"></p>
              <p class="cell black patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-001"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell black"></p>
              <p class="cell black"></p>
              <p class="cell patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-110"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell black"></p>
              <p class="cell"></p>
              <p class="cell black patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-101"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell"></p>
              <p class="cell black"></p>
              <p class="cell black patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-011"></p>
          </li>

          <li>
            <section class="cell-row">
              <p class="cell black"></p>
              <p class="cell black"></p>
              <p class="cell black patch"></p>
            </section>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <p class="cell patch" id="custom-111"></p>
          </li>

        </section>
        <ul class='controls'>
          <button id='create-custom'>Create Automaton!</button>
          <button id="cancel">Cancel</button>
        </ul>
      </div>
    </div>
  </body>
</html>
